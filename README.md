# Краткое описание
Парсер информации с Rule34, имеются функции вычисления количества постов, их веса, а также скачивания медиафайлов, имеется файл который автоматически подгружает все нужные библиотеки, имеется рабочая система пресетов для загрузки сразу нескольких запросов за раз
# Документация
## 1.0 - Доступность сайта
Прежде чем даже думать о скачивании данной программы, вам сначала нужно убедиться что вы можете работать с необходимым сайтом (**https://rule34.xxx**)

Зайдите на сайт и проверьте его доступность, если сайт не работает или слишком сильно лагает то вероятно он заблокирован или замедляется в вашей стране, в таком случае перед использованием программы вам прийдется включать VPN (VPN не в браузере, а такие VPN что работают на самом устройстве)
## 1.1 - Перед установкой программы
Прежде чем установить программу вам нужно учитывать что она написана на языке **Python**

Это значит что вам прийдется скачать Python, сделать это вы можете на их официальном сайте (https://www.python.org/downloads/), скачайте версию которая будет подсвечена желтым цветом прямо на той странице

Настоятельно рекомендуется прожать большинство галочек в программе установки, и особенно галочку на то чтобы Python установился как средство открытия файлов (то есть чтобы вам не приходилось тыкать на .py файлы через контекстное меню и нажимать "открыть через", а чтобы вы могли открывать его обычным двойным кликом уже через Python).
## 1.2 - Установка программы
Вам необходимо зайти на страницу releases в этом репозитории, скачать новейшую версию в формате архива zip, и распаковать его (либо встроенными средствами Windows проводника, либо использую Winrar (https://www.win-rar.com/start.html?&L=4) либо 7Zip(https://www.7-zip.org/))

Учтите что вам обязательно нужно будет **создать отдельную папку** для программы куда нужно будет закинуть все подпапки и сам исполняемый файл

После того как вы это сделаете вам нужно зайти в папку "библиотеки" и открыть файл "libraries.py" - этот файл установит вам необходимые библиотеки для работы программы.
## 1.3 - Начало работы
После установки библиотек, для начала работы вам нужно будет вернуться в общую директорию программы и открыть файл "rule34.py" - он и является главным исполняемым файлом программы

Вас встретит главное меню программы в котором есть 3 модуля, выбрать их можно используя цифры на клавиатуре, а если ввести 0 можно выйти из программы.
## 1.4 - Первый модуль : Счетчик количества постов
Если в главном меню вы нажмете на кнопку 1 то попадете в меню модуля счетчика количества постов, предназначение данного модуля в том чтобы вычислять количество постов по тегу (или нескольким тегам, используйте пробел для разделения) (также можно отправлять не по 1 запросу например с несколькими тегами, а уже заранее заготовленный список из допустим сотни запросов, это называется пресеты, про них позже)

В меню модуля вам предложат 2 варианта ввода, ручной или загрузка с файла пресета (про файлы пресета подробнее читайте во главе 2)

Если вы выбрали ручной ввод то вам нужно будет ввести тег (или несколько тегов) вручную, без смены строки

Если же вы выберете считывание с пресета то вам нужно будет указать название файла пресета либо вручную, либо используя предложенные цифры и обнаруженные файлы (пресеты ложить по пути Программа (ваше название папки)\вычислитель количества\пресеты\)

После ввода тега программа укажет на статус вашего черного списка (по умолчанию пуст, читайте о черном списке подробнее в главе 2)

Если вас все устраивает то нажимайте Enter, и начнется проверка количества постов

После окончания проверки (обычно это дело пары секунд) вы увидите довольной большой отчёт о выполненной работе (предложения по улучшению того как он выглядит или его уменьшению - принимаются), вы увидите точное количество вычисленных постов, если у вас использовался блеклист программа также укажет вам сколько суммарно постов не учитывая блеклист, сколько постов блеклист убрал с подсчета и сколько вы суммарно получили постов учитывая работу блеклиста

Программа сохранит отчет в виде файла, путь будет указан в сообщении о сохранении, текстовый файл автоматически отсортирует все значения от большего к меньшему

Также стоит сказать что если запросов было больше чем 1 то будет целая куча отчетов, по одному отчеты на каждый запрос, а в конце вы увидите суммарный подсчет всех значений с всех запросов, после чего вас перекинет обратно в главное меню программы
## 1.5 - Второй модуль : Вычислитель размера медиа файлов
Попасть в этот модуль можно прожав кнопку 2 в главном меню программы, основное предназначение данного модуля это подсчет суммарного веса всех постов определенных тегов одного или нескольких запросов, все тоже самое что и с первым модулем, также поддерживается система пресетов только путь отличается (Программа (ваше название папки)\вычислитель размера\пресеты\)

После того как вы введете запрос (или несколько запросов с помощью пресетов) то начнется вычисление, это уже будет дело значительно дольше чем просто вычисление количества постов, и это уже полностью зависит от мощности вашего процессора

В конце вычисления вы получите отчет (который также сохранится и в файлах по пути который будет указан в консоли), в этом отчете вы увидите общее число постов, общий размер всех постов (причем крайне точный благодаря прямой проверке через API), а также увидите техническую статистику, а именно время затраченное на вычисление, и средняя продуктивность в виде пост/сек (например 120 постов в секунду)

## 1.6 - Третий модуль : Авто-загрузчик медиа файлов
Попасть в этот модуль можно прожав кнопку 3 в главном меню программы, основное предназначение этого модуля это скачивание файлов (фото/гиф/видео форматов) на ваш диск по запросам в виде тегов, запустить этот модуль вы можете также как и прошлые, меняется только директория пресетов (Программа (ваше название папки)\загрузчик\пресеты\)

После ввода запроса программа начнет скачивать медиа файлы (путь куда она их скачивает и логика создания подпапок прописана в главе 2), также стоит отметить что программа имеет функционал проверки на существование файла, и если он уже существует она крайне быстро его пропустит, таким образом вы можете например однажды загрузить всю директорию одного популярного персонажа по тегу, а потом раз в пару дней снова делать загрузку и вместо перезаписывания новых файлов, к вам в папку просто очень быстро будут добавляться новые которых у вас еще нету, например созданные после вашего последнего скачивания

После завершения скачивания вы увидите отчет с количеством скачанных файлов (этот отчет крайне маленький и в отличии от остальных модулей данный модуль не поддерживает сохранение отчетов в виде файлов, он только в консоль их выводит, я посчитал что бесполезно сохранять отчёты для задачи которой они особо не требуются, однако если вы будете просить я могу их добавить, это легко делается)

## 2.0 - Общая терминология
Rule34 (также сокращение r34) - Сайт содержащий 18+ контент, и контент которого и используется в этой программе

Python - Язык программирования

Подпапки - Буквально папка внутри папки, эти папки входят в саму программу, все папки которые находятся в папке программы в той или иной степени - подпапки

Модули - 3 отдельных программы каждая из которых выполняет свою функцию, по факту наша программа это обьединение этих 3 отдельных программ которые ранее были отдельными проектами

Тег - То по чему r34 будет искать контент, пример тега : citlali_(genshin_impact) , теги также можно отправлять по несколько штук за раз, но в таком случае их нужно разделять пробелом (и только пробелом, не другими знаками) пример: citlali_(genshin_impact) aether_(genshin_impact) (также кроме добавления тегов вы также можете ставить их в "чёрный список" - для этого вам нужно будет перед тегом написать символ минус, пример : -ai_generated , то есть общий запрос может выглядеть например как : citlali_(genshin_impact) -ai_generated , этот запрос найдет все медиа с Ситлали но без тега связанного с ИИ творчеством, однако можно писать блеклистовые теги не отдельно в каждом запросе а установить эти теги в файле блеклиста, в таком случае вам не прийдется каждый раз писать их вручную в каждом запросе, они будут добавляться автоматически после того как вы введете запрос, подробнее в разделе посвященному блеклисту)

Запрос - 1 запрос это 1 строчка, в одном запросе может быть неограниченное количество тегов, но логика r34 идет в том что если вы например напишите два тега: citlali_(genshin_impact) aether_(genshin_impact) то вы увидите не все посты на сайте которые так или иначе содержат ОДИН из этих тегов, а только посты в которых есть сразу оба этих тега, так что если вы хотите искать совсем разную информацию, например посмотреть количество постов с каждым разным персонажем с геншина, вам нужно писать не все теги в одном запросе а делать кучу запросов по одному тегу, то есть целую кучу строчек, и сделать это вручную прямо в консоли вы не сможете, для этого уже понадобятся пресеты (но не волнуйтесь, работать с ними крайне легко)

Пресет - Заготовленный файл с 1 или несколькими (но количество неограниченно) запросами, эти файлы нужны когда вам нужно отправить сразу тонну запросов за раз но хочется писать их не ручками каждый раз следя когда там закончится обработка 1 запроса чтобы напечатать следующий, а автоматически, вам нужно написать файл пресета и запустить один из модулей в режиме пресетов выбрав свой пресет сохраненный по нужной директории, тогда программа начнет проверять ваши запросы без никаких остановок и проверит каждую строчку

## 2.1 - Логика сохранения медиа файлов в загручике
После окончания загрузки медиафайлов в папке по пути (Программа (ваше название папки)\загрузчик\медиа\) будет создана папка с тегами указанными в вашем запросе, в этой папке в стандартном случае будет 3 папки по типу контента (если контент не был найден то папки с его типом будут пусты) - фото,гиф,и видео контент

В случае если в запросе присутствуют теги "video" или "gif" то создание подпапок по медиатипу автоматически отключается и все будет сохраняться в одну папку без разделений, так как оно бессмысленно учитывая что тип уже определен в запросе

## 2.2 - Создание пресетов и работа с ними
Пресеты как упоминалось уже не раз - крайне удобный способ отправлять кучу запросов за раз, как же их создавать?

В папке необходимого модуля зайдите в папку пресеты и создадите там новый файл с любым названием, главное чтобы он был в формате txt, пример : genshin.txt , в этом файле вы можете указывать необходимые теги как в одной строчке (это будет считаться как один запрос) так и в нескольких (это будут уже разные запросы), просто пишите названия тегов (разделения между несколькими тегами - знак пробела)

После того как закончите то сохраните файл, зайдите в программу, откройте модуль в пресетном режиме и выберите свой пресет (либо по имени файла либо он уже найдется программой и будет вам предложен), работа модулей по пресетам имеет плюс в том что между запросами не будет никаких пауз, вы можете включить обработку пресета с например тысячью запросами и уйти пить чай пока все будет вычисляться/скачиваться

## 2.3 - Работа с чёрным списком (блеклист)
Чёрный список (в контексте не одного отминусованного тега в ручном или пресетовом запросе) - это глобальный переключатель, найти его можно в папке "конфигурация" необходимого вам модуля, пока он пуст он будет выключен

Чтобы добавить в блеклист определенные теги вам нужно написать нужный вам тег (не добавляйте к тегам минусы, программа сама их добавит уже при обработке поиска), также пожалуйста вводите все теги блеклиста в ОДНОЙ строчке, так как блеклист работает немного по другому, он не будет корректно работать в системе запросов с разными строчками

Теги блеклиста должны быть ТОЛЬКО на одной строчке (пример правильного блеклиста с тремя тегами разделенными пробелами как это и должно быть : ai_generated ai_assisted qiqi_(genshin_impact)

После написания блеклиста сохраните его, теперь он будет применяться всегда до тех пор пока вы сами не очистите его, вам больше не нужно будет вписывать теги которые нужно убрать прямо в поиск, просто в запросе по тегам в любом модуле напишите свой запрос (допустим : citlali_(genshin_impact)) и программа добавит теги с блеклиста автоматически, и автоматически добавит к ним минусы чтобы этих тегов не было в вашем поиске (пример того как это будет выглядеть : citlali_(genshin_impact) -ai_generated -ai_assisted -qiqi_(genshin_impact))

## Будущее документации
**Возможно...** в будущем я напишу третью главу которая будет посвящена крайне рискованной, но расширенной кастомизации программы, смена различных переменных, кастомизация удобности, регулировка скорости поиска и прочее, удобные вещи но которые могут привести к ошибкам и плохой работа программы
